<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>AI对话助手</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>对话助手</h3>
                <button id="newChatBtn" title="新建对话"><i class="fas fa-plus"></i> 新对话</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- 历史记录将在JS中动态添加 -->
            </div>
            <div class="sidebar-footer">
                <button id="exportHistoryBtn" title="导出所有对话"><i class="fas fa-download"></i> 导出对话</button>
                <button id="importHistoryBtn" title="导入对话"><i class="fas fa-upload"></i> 导入对话</button>
            </div>
        </div>

        <!-- 主内容区 -->
        <div class="main-content">
            <!-- 顶部控制栏 -->
            <div class="control-bar">
                <div class="menu-toggle">
                    <button id="menuToggleBtn" title="菜单"><i class="fas fa-bars"></i></button>
                </div>
                <div class="model-selector">
                    <select id="modelSelect" title="选择模型">
                        <option value="deepseek-chat">DeepSeek Chat</option>
                        <option value="deepseek-coder">DeepSeek Coder</option>
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="gpt-4">GPT-4</option>
                    </select>
                </div>
                <div class="api-selector">
                    <button id="settingsBtn" title="API设置"><i class="fas fa-cog"></i></button>
                </div>
            </div>

            <!-- 对话区域 -->
            <div class="chat-container">
                <div id="chatbox">
                    <div class="welcome-message">
                        <h2>欢迎使用AI对话助手</h2>
                        <p>请先在设置中输入API密钥以开始对话</p>
                        <button id="openSettingsBtn">打开设置</button>
                    </div>
                </div>
                
                <!-- 输入区域 -->
                <div class="input-area">
                    <textarea id="userInput" placeholder="输入消息..." rows="1"></textarea>
                    <button id="sendBtn" title="发送"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- 设置弹窗 -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>API设置</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="apiProvider">API提供商</label>
                    <select id="apiProvider">
                        <option value="deepseek">DeepSeek</option>
                        <option value="openai">OpenAI</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="apiKey">API密钥</label>
                    <input type="password" id="apiKey" placeholder="输入您的API密钥" value="" />
                    <small class="help-text">您的API密钥仅存储在本地浏览器中，不会上传到任何服务器</small>
                </div>
                <div class="form-group">
                    <label for="systemPrompt">系统提示词</label>
                    <textarea id="systemPrompt" placeholder="自定义系统提示词，指导AI如何回答" rows="4"></textarea>
                    <small class="help-text">系统提示词可以指导AI的回答风格和内容</small>
                </div>
                <hr class="settings-divider">
                <h4 class="settings-subtitle">聊天设置</h4>
                <div class="form-group">
                    <label for="userName">您的昵称</label>
                    <input type="text" id="userName" placeholder="显示在您的消息上的名称" />
                </div>
                <div class="form-group">
                    <label for="botName">AI助手昵称</label>
                    <input type="text" id="botName" placeholder="显示在AI回复上的名称" />
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveSettingsBtn">保存设置</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 